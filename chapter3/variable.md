# 3.1 Variables and Mutability 變數與可變性

## `let`
經由`let`宣告的是一個變數，預設宣告成不可變的變數。
這裡的變數名指的是與數值綁定的一個名字，數值本身不可動。
也就是說，以下的程式無法編譯：
``` rust
let x = 5;
x = 6; // cannot assign to immutable variable
```

如果要讓變數值可以任意改變，則需要在宣告時在變數前加上`mut`以標示可變性。
``` rust
let mut x = 5;
x = 6; // legal
```

## `const`
經由`const`宣告出來的稱為常數。
常數在程式執行中會一直存在，在它被宣告的範圍內有效。

### 與`let`的不同
- 常數宣告不能加上`mut`，它們永遠不變。
- 在宣告常數時必須加上**型態**，詳情請見下一節。
- 常數可以在任何範圍被宣告，包含全域範圍。
- 常數的宣告只能是一個以常數表達的運算式，不能是任何函式的回傳值。

## Shadowing 遮蔽
當重複使用 `let` 將同一個名字綁在新值上時，舊的值會被新值**遮蔽**。
也就是說，變數名對應的值會從舊值轉成新值。概念是重新綁定變數。
``` rust
let x = 5;
let x = x + 1;
```
這段程式先將`x`綁在數值`5`上面，再重複了`let x =`以遮蔽掉原來的`x`。
新的值是原值加上`1`，也就是`6`。

### 與`mut`的比較
- 遮蔽可以維持變數本身不可變，防止意外的改動。
- 遮蔽可以創造新型態的變數，`mut`只能在同一型態中賦值。

# Links
- 下一章節 - 3.2 [Data Types](./type.md)
- 回到[目錄](./../README.md)
